# Tray - 给你的 CMD 脚本穿个「隐身衣」

### 🚀 解决什么痛点？

你是不是经常遇到这些尴尬事：
1.  **想挂个脚本，但任务栏总有个黑窗口在那占地方**，看着心烦。
2.  **怕手滑**。本来想最小化脚本框，结果手快把运行脚本的 CMD 给叉了，脚本直接凉凉。
3.  **想看进度时找不到窗**。开了一堆窗口，想看一眼脚本跑哪了，得一个一个找。

`Tray` 就是为了解决这些「脚本强迫症」而生的！

---

### ✨ 它能做什么？

这是一个超轻量级的 Rust 工具，专门给 CMD/控制台程序提供托盘化支持：
-   **一键隐身**：单击托盘图标，黑窗口瞬间消失/出现，不占任务栏。
-   **最小化即隐藏**：点击窗口自带的「最小化」按钮，也会自动隐身到托盘。
-   **智能脱离**：程序启动后会自动转入后台真身运行，调用者（如批处理或 Python）会立即得到返回，无需写 `start` 命令。
-   **防止误点**：自动禁用 CMD 的「X」按钮，防止误关脚本。
-   **自动随从**：脚本跑完了或者你手动关了 CMD 窗口，它会发现并跟着自动退出，不留垃圾。
-   **不阻塞命令**：在命令行里运行它，它会立即把控制权交还给你，完全不影响你紧接着跑脚本。

---

### 🛠 怎么用？

很简单，跑你的脚本前，先执行它就行了。

#### 1. 基础用法
在运行你的脚本前，先执行它：
```cmd
Tray.exe "我的炫酷脚本"
# 接下来该跑啥跑啥
python my_script.py
```

#### 2. 界面控制
-   **单击托盘图标**：显示/隐藏窗口。
-   **右键托盘图标**：
    -   `我的炫酷脚本` (这是你的脚本名，方便认领)
    -   `显示/隐藏` (默认项)
    -   `退出` (会自动解锁 CMD 按钮并关掉脚本及其托盘图标)

---

### 🏗 怎么编译？

如果你搞到了源码，想自己压压惊：
```cmd
cargo build --release
```
编译好的文件就在 `target/release/Tray.exe`，不到 200KB，主打一个短小精悍。

---

### 📝 注意事项
-   图标在 `assets/icon.ico`，编译时会自动塞进 exe 里，发给别人用只需要一个 exe 文件就够了。
-   **退出即关闭**：从托盘点击「退出」会连同关联的 CMD 窗口一并关掉，请确保脚本可以安全退出。
